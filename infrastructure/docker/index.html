<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content=Andrew><link href=https://tavor118.github.io/python-questions-and-answers/infrastructure/docker/ rel=canonical><link href=../mq/ rel=prev><link href=../kubernates/ rel=next><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.21"><title>Docker - Python Questions and Answers</title><link rel=stylesheet href=../../assets/stylesheets/main.2a3383ac.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../css/timeago.css><link rel=stylesheet href=../../stylesheets/extra.css><link rel=stylesheet href=../../stylesheets/links.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=blue-grey data-md-color-accent=light-blue> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#docker-and-docker-compose class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Python Questions and Answers" class="md-header__button md-logo" aria-label="Python Questions and Answers" data-md-component=logo> <img src=../../img/logo.bmp alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Python Questions and Answers </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Docker </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=blue-grey data-md-color-accent=light-blue aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=light-blue aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/tavor118/pj_python_interview_questions_and_answers title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> tavor118/pj_python_interview_questions_and_answers </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Python Questions and Answers" class="md-nav__button md-logo" aria-label="Python Questions and Answers" data-md-component=logo> <img src=../../img/logo.bmp alt=logo> </a> Python Questions and Answers </label> <div class=md-nav__source> <a href=https://github.com/tavor118/pj_python_interview_questions_and_answers title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> tavor118/pj_python_interview_questions_and_answers </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <div class="md-nav__link md-nav__container"> <a href=../../python/ class="md-nav__link "> <span class=md-ellipsis> Python </span> </a> <label class="md-nav__link " for=__nav_2 id=__nav_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Python </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../python/general/ class=md-nav__link> <span class=md-ellipsis> General </span> </a> </li> <li class=md-nav__item> <a href=../../python/syntax/ class=md-nav__link> <span class=md-ellipsis> Syntax </span> </a> </li> <li class=md-nav__item> <a href=../../python/data_types/ class=md-nav__link> <span class=md-ellipsis> Data Types </span> </a> </li> <li class=md-nav__item> <a href=../../python/sequences/ class=md-nav__link> <span class=md-ellipsis> Sequences </span> </a> </li> <li class=md-nav__item> <a href=../../python/set_and_dict/ class=md-nav__link> <span class=md-ellipsis> Set and Dict </span> </a> </li> <li class=md-nav__item> <a href=../../python/loops/ class=md-nav__link> <span class=md-ellipsis> Loops </span> </a> </li> <li class=md-nav__item> <a href=../../python/functions/ class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> </li> <li class=md-nav__item> <a href=../../python/decorators/ class=md-nav__link> <span class=md-ellipsis> Decorators </span> </a> </li> <li class=md-nav__item> <a href=../../python/iterator_and_generator/ class=md-nav__link> <span class=md-ellipsis> Iterator and Generator </span> </a> </li> <li class=md-nav__item> <a href=../../python/class_and_object/ class=md-nav__link> <span class=md-ellipsis> Class and Object </span> </a> </li> <li class=md-nav__item> <a href=../../python/metaclass/ class=md-nav__link> <span class=md-ellipsis> Metaclass </span> </a> </li> <li class=md-nav__item> <a href=../../python/namespace_and_context_manager/ class=md-nav__link> <span class=md-ellipsis> Namespace and Context Manager </span> </a> </li> <li class=md-nav__item> <a href=../../python/modules_and_packets/ class=md-nav__link> <span class=md-ellipsis> Modules and Packets </span> </a> </li> <li class=md-nav__item> <a href=../../python/exceptions/ class=md-nav__link> <span class=md-ellipsis> Exceptions </span> </a> </li> <li class=md-nav__item> <a href=../../python/files_and_io/ class=md-nav__link> <span class=md-ellipsis> Files and IO </span> </a> </li> <li class=md-nav__item> <a href=../../python/async/ class=md-nav__link> <span class=md-ellipsis> Async </span> </a> </li> <li class=md-nav__item> <a href=../../python/gil_threads_processes/ class=md-nav__link> <span class=md-ellipsis> GIL Threads Processes </span> </a> </li> <li class=md-nav__item> <a href=../../python/interpreter/ class=md-nav__link> <span class=md-ellipsis> Interpreter </span> </a> </li> <li class=md-nav__item> <a href=../../python/functional_programming/ class=md-nav__link> <span class=md-ellipsis> Functional Programming </span> </a> </li> <li class=md-nav__item> <a href=../../python/standard_library/ class=md-nav__link> <span class=md-ellipsis> Standard Library </span> </a> </li> <li class=md-nav__item> <a href=../../python/python_packages/ class=md-nav__link> <span class=md-ellipsis> Python Packages </span> </a> </li> <li class=md-nav__item> <a href=../../python/coding/ class=md-nav__link> <span class=md-ellipsis> Coding </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <div class="md-nav__link md-nav__container"> <a href=../../python_framework/ class="md-nav__link "> <span class=md-ellipsis> Python Framework </span> </a> <label class="md-nav__link " for=__nav_3 id=__nav_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Python Framework </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../python_framework/django/ class=md-nav__link> <span class=md-ellipsis> Django </span> </a> </li> <li class=md-nav__item> <a href=../../python_framework/drf/ class=md-nav__link> <span class=md-ellipsis> DRF </span> </a> </li> <li class=md-nav__item> <a href=../../python_framework/fast_api/ class=md-nav__link> <span class=md-ellipsis> Fast API </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <div class="md-nav__link md-nav__container"> <a href=../../computer_science/ class="md-nav__link "> <span class=md-ellipsis> Computer Science </span> </a> <label class="md-nav__link " for=__nav_4 id=__nav_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Computer Science </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../computer_science/oop/ class=md-nav__link> <span class=md-ellipsis> OOP </span> </a> </li> <li class=md-nav__item> <a href=../../computer_science/programming_principles/ class=md-nav__link> <span class=md-ellipsis> Programming Principles </span> </a> </li> <li class=md-nav__item> <a href=../../computer_science/solid/ class=md-nav__link> <span class=md-ellipsis> SOLID </span> </a> </li> <li class=md-nav__item> <a href=../../computer_science/data_structures/ class=md-nav__link> <span class=md-ellipsis> Data Structures </span> </a> </li> <li class=md-nav__item> <a href=../../computer_science/algorithmes/ class=md-nav__link> <span class=md-ellipsis> Algorithms </span> </a> </li> <li class=md-nav__item> <a href=../../computer_science/computer_science/ class=md-nav__link> <span class=md-ellipsis> Computer Science </span> </a> </li> <li class=md-nav__item> <a href=../../computer_science/testing/ class=md-nav__link> <span class=md-ellipsis> Testing </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <div class="md-nav__link md-nav__container"> <a href=../../web_development/ class="md-nav__link "> <span class=md-ellipsis> Web Development </span> </a> <label class="md-nav__link " for=__nav_5 id=__nav_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Web Development </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../web_development/http/ class=md-nav__link> <span class=md-ellipsis> HTTP </span> </a> </li> <li class=md-nav__item> <a href=../../web_development/rest_soap/ class=md-nav__link> <span class=md-ellipsis> REST SOAP </span> </a> </li> <li class=md-nav__item> <a href=../../web_development/rpc/ class=md-nav__link> <span class=md-ellipsis> RPC </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6 checked> <div class="md-nav__link md-nav__container"> <a href=../ class="md-nav__link "> <span class=md-ellipsis> Infrastructure </span> </a> <label class="md-nav__link " for=__nav_6 id=__nav_6_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=true> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Infrastructure </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../sql/ class=md-nav__link> <span class=md-ellipsis> SQL </span> </a> </li> <li class=md-nav__item> <a href=../database/ class=md-nav__link> <span class=md-ellipsis> Database </span> </a> </li> <li class=md-nav__item> <a href=../mq/ class=md-nav__link> <span class=md-ellipsis> MQ </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Docker </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Docker </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#docker-and-docker-compose class=md-nav__link> <span class=md-ellipsis> Docker and docker-compose </span> </a> <nav class=md-nav aria-label="Docker and docker-compose"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_1 class=md-nav__link> <span class=md-ellipsis> Що таке контейнеризація? Навіщо вона потрібна? </span> </a> </li> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> Чим контейнер відрізняється від віртуальної машини? </span> </a> </li> <li class=md-nav__item> <a href=#docker class=md-nav__link> <span class=md-ellipsis> Що таке Docker? </span> </a> </li> <li class=md-nav__item> <a href=#docker-image class=md-nav__link> <span class=md-ellipsis> Docker Image (образ) </span> </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> Кешування в образах </span> </a> </li> <li class=md-nav__item> <a href=#docker-container class=md-nav__link> <span class=md-ellipsis> Docker Container (контейнер) </span> </a> </li> <li class=md-nav__item> <a href=#docker-volume class=md-nav__link> <span class=md-ellipsis> Docker Volume (том) </span> </a> </li> <li class=md-nav__item> <a href=#docker-network class=md-nav__link> <span class=md-ellipsis> Docker Network (мережа) </span> </a> </li> <li class=md-nav__item> <a href=#docker_1 class=md-nav__link> <span class=md-ellipsis> Які типи мереж існують в Docker? </span> </a> </li> <li class=md-nav__item> <a href=#dockerfile class=md-nav__link> <span class=md-ellipsis> Dockerfile </span> </a> </li> <li class=md-nav__item> <a href=#entrypoint-cmd class=md-nav__link> <span class=md-ellipsis> Чим відрізняється ENTRYPOINT від CMD? </span> </a> </li> <li class=md-nav__item> <a href=#multi-stage-building class=md-nav__link> <span class=md-ellipsis> Multi Stage Building </span> </a> </li> <li class=md-nav__item> <a href=#dockerignore class=md-nav__link> <span class=md-ellipsis> dockerignore </span> </a> </li> <li class=md-nav__item> <a href=#docker-daemon class=md-nav__link> <span class=md-ellipsis> Docker Daemon </span> </a> </li> <li class=md-nav__item> <a href=#docker-client class=md-nav__link> <span class=md-ellipsis> Docker Client </span> </a> </li> <li class=md-nav__item> <a href=#docker-hub class=md-nav__link> <span class=md-ellipsis> Docker Hub </span> </a> </li> <li class=md-nav__item> <a href=#docker_2 class=md-nav__link> <span class=md-ellipsis> Основні команди для роботи з Docker </span> </a> </li> <li class=md-nav__item> <a href=#docker-compose class=md-nav__link> <span class=md-ellipsis> docker-compose </span> </a> </li> <li class=md-nav__item> <a href=#docker-compose_1 class=md-nav__link> <span class=md-ellipsis> Основні команди для роботи з docker-compose </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../kubernates/ class=md-nav__link> <span class=md-ellipsis> Kubernates </span> </a> </li> <li class=md-nav__item> <a href=../server/ class=md-nav__link> <span class=md-ellipsis> Server </span> </a> </li> <li class=md-nav__item> <a href=../aws/ class=md-nav__link> <span class=md-ellipsis> AWS </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <div class="md-nav__link md-nav__container"> <a href=../../architecture/ class="md-nav__link "> <span class=md-ellipsis> Architecture </span> </a> <label class="md-nav__link " for=__nav_7 id=__nav_7_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Architecture </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../architecture/architecture_patterns/ class=md-nav__link> <span class=md-ellipsis> Architecture Patterns </span> </a> </li> <li class=md-nav__item> <a href=../../architecture/ddd/ class=md-nav__link> <span class=md-ellipsis> DDD </span> </a> </li> <li class=md-nav__item> <a href=../../architecture/system_design/ class=md-nav__link> <span class=md-ellipsis> System Design </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8> <div class="md-nav__link md-nav__container"> <a href=../../development/ class="md-nav__link "> <span class=md-ellipsis> Development </span> </a> <label class="md-nav__link " for=__nav_8 id=__nav_8_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Development </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../development/git/ class=md-nav__link> <span class=md-ellipsis> Git </span> </a> </li> <li class=md-nav__item> <a href=../../development/ci_cd/ class=md-nav__link> <span class=md-ellipsis> CI/CD </span> </a> </li> <li class=md-nav__item> <a href=../../development/sdlc/ class=md-nav__link> <span class=md-ellipsis> SDLC </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9> <div class="md-nav__link md-nav__container"> <a href=../../frontend/ class="md-nav__link "> <span class=md-ellipsis> Front-end </span> </a> <label class="md-nav__link " for=__nav_9 id=__nav_9_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_9_label aria-expanded=false> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> Front-end </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../frontend/front_end/ class=md-nav__link> <span class=md-ellipsis> Front End </span> </a> </li> <li class=md-nav__item> <a href=../../frontend/javascript/ class=md-nav__link> <span class=md-ellipsis> JavaScript </span> </a> </li> <li class=md-nav__item> <a href=../../frontend/dom/ class=md-nav__link> <span class=md-ellipsis> DOM </span> </a> </li> <li class=md-nav__item> <a href=../../frontend/framework/ class=md-nav__link> <span class=md-ellipsis> Framework </span> </a> </li> <li class=md-nav__item> <a href=../../frontend/html/ class=md-nav__link> <span class=md-ellipsis> HTML </span> </a> </li> <li class=md-nav__item> <a href=../../frontend/css/ class=md-nav__link> <span class=md-ellipsis> CSS </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#docker-and-docker-compose class=md-nav__link> <span class=md-ellipsis> Docker and docker-compose </span> </a> <nav class=md-nav aria-label="Docker and docker-compose"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_1 class=md-nav__link> <span class=md-ellipsis> Що таке контейнеризація? Навіщо вона потрібна? </span> </a> </li> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> Чим контейнер відрізняється від віртуальної машини? </span> </a> </li> <li class=md-nav__item> <a href=#docker class=md-nav__link> <span class=md-ellipsis> Що таке Docker? </span> </a> </li> <li class=md-nav__item> <a href=#docker-image class=md-nav__link> <span class=md-ellipsis> Docker Image (образ) </span> </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> <span class=md-ellipsis> Кешування в образах </span> </a> </li> <li class=md-nav__item> <a href=#docker-container class=md-nav__link> <span class=md-ellipsis> Docker Container (контейнер) </span> </a> </li> <li class=md-nav__item> <a href=#docker-volume class=md-nav__link> <span class=md-ellipsis> Docker Volume (том) </span> </a> </li> <li class=md-nav__item> <a href=#docker-network class=md-nav__link> <span class=md-ellipsis> Docker Network (мережа) </span> </a> </li> <li class=md-nav__item> <a href=#docker_1 class=md-nav__link> <span class=md-ellipsis> Які типи мереж існують в Docker? </span> </a> </li> <li class=md-nav__item> <a href=#dockerfile class=md-nav__link> <span class=md-ellipsis> Dockerfile </span> </a> </li> <li class=md-nav__item> <a href=#entrypoint-cmd class=md-nav__link> <span class=md-ellipsis> Чим відрізняється ENTRYPOINT від CMD? </span> </a> </li> <li class=md-nav__item> <a href=#multi-stage-building class=md-nav__link> <span class=md-ellipsis> Multi Stage Building </span> </a> </li> <li class=md-nav__item> <a href=#dockerignore class=md-nav__link> <span class=md-ellipsis> dockerignore </span> </a> </li> <li class=md-nav__item> <a href=#docker-daemon class=md-nav__link> <span class=md-ellipsis> Docker Daemon </span> </a> </li> <li class=md-nav__item> <a href=#docker-client class=md-nav__link> <span class=md-ellipsis> Docker Client </span> </a> </li> <li class=md-nav__item> <a href=#docker-hub class=md-nav__link> <span class=md-ellipsis> Docker Hub </span> </a> </li> <li class=md-nav__item> <a href=#docker_2 class=md-nav__link> <span class=md-ellipsis> Основні команди для роботи з Docker </span> </a> </li> <li class=md-nav__item> <a href=#docker-compose class=md-nav__link> <span class=md-ellipsis> docker-compose </span> </a> </li> <li class=md-nav__item> <a href=#docker-compose_1 class=md-nav__link> <span class=md-ellipsis> Основні команди для роботи з docker-compose </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>Docker</h1> <h3 id=docker-and-docker-compose>Docker and docker-compose<a class=headerlink href=#docker-and-docker-compose title="Permanent link">⚑</a></h3> <h4 id=_1>Що таке контейнеризація? Навіщо вона потрібна?<a class=headerlink href=#_1 title="Permanent link">⚑</a></h4> <p><strong>Контейнеризація</strong> - це технологія упаковки та виконання програмного забезпечення разом із всіма його залежностями та середовищем відокремлено від інших додатків. Вона потрібна для полегшення розгортання, масштабування та управління додатками, забезпечуючи консистентність між середовищами розробки та виробництва.</p> <p><strong>Контейнер</strong> - це ізольований процес, який використовує основне ядро операційної системи, який працює зі своїм шматочком файлової системи, пам'яті, ядром та іншими ресурсами. При цьому він думає, що всі ресурси належать йому.</p> <p>Робота з контейнерами допомагає вирішити наступні проблеми</p> <ul> <li>ефективного використання ресурсів (на одному сервері можна запустити кілька контейнерів);</li> <li>ізоляції додатків;</li> <li>установки операційної системи (фактично, ми використовуємо хост-операційну систему);</li> <li>налаштування середовища для додатка (можна один раз налаштувати середовище і швидко клонувати його між контейнерами).</li> </ul> <h4 id=_2>Чим контейнер відрізняється від віртуальної машини?<a class=headerlink href=#_2 title="Permanent link">⚑</a></h4> <p>Контейнер відрізняється від віртуальної машини тим, що він ділиться операційною системою з хостом та використовує власний ізольований простір для виконання додатку. На відміну від віртуальних машин, які потребують окремої гостьової ОС для кожного екземпляра, контейнери легше та швидше запускаються, ефективніше використовують ресурси та забезпечують більшу гнучкість.</p> <h4 id=docker>Що таке Docker?<a class=headerlink href=#docker title="Permanent link">⚑</a></h4> <p><strong>Docker</strong> - це інструмент для для створення, розгортання та управління контейнерами, який дозволяє упаковувати додаток і всі його залежності в єдиний контейнер, який може бути запущений на будь-якій платформі, що підтримує Docker, забезпечуючи ізоляцію, переносимість та консистентність роботи додатків у різних середовищах.</p> <p>Контейнери не знають, що поруч розгорнуті інші контейнери з додатками, вони повністю ізольовані один від одного. У кожному контейнері можна налаштувати середовище, необхідне саме для цього додатка.</p> <p>Контейнери Docker засновані на образах, які включають все необхідне для запуску програми: код, бібліотеки, системні інструменти та налаштування.</p> <p>Docker надає наступні переваги в процесі розробки</p> <ul> <li>Підвищення портативності додатків. Docker дозволяє упаковувати додаток і всі його залежності в єдиний контейнер, який може бути запущений на будь-якій платформі, що підтримує Docker. Це підвищує портативність додатків і прискорює їх розгортання.</li> <li>Прискорення процесу розробки. Docker дозволяє швидко створювати та запускати контейнери, що прискорює процес розробки та тестування додатків.</li> <li>Покращення безпеки. Docker забезпечує ізоляцію контейнерів, що дозволяє уникнути конфліктів між додатками та покращує безпеку додатків.</li> <li>Збільшення масштабованості. Docker дозволяє швидко масштабувати додатки, додаючи нові контейнери при необхідності.</li> </ul> <h4 id=docker-image>Docker Image (образ)<a class=headerlink href=#docker-image title="Permanent link">⚑</a></h4> <p><strong>Docker Image</strong> - це шаблон для створення контейнерів . Він містить усі необхідні компоненти для запуску контейнера, включаючи операційну систему, програму, бібліотеки та залежності, а також конфігураційні файли. Він використовується для створення контейнерів та розгортання контейнерів з ідентичним середовищем виконання, та забезпечує консистентність усіх середовищ, де запускається додаток.</p> <p>У Image описано, що повинно бути встановлено в контейнері та які дії потрібно виконати при запуску контейнера. </p> <p>Образи Docker створюються на основі <code>Dockerfile</code>, в якому задається послідовність команд для встановлення та налаштування всіх необхідних компонентів. Dockerfile містить інструкції для збирання образу. </p> <p>Dockerfile з образом простого веб-додатку на Python</p> <div class="language-Dockerfile highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=k>FROM</span><span class=w> </span><span class=s>python:3.8-slim</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=k>WORKDIR</span><span class=w> </span><span class=s>/app</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>COPY.<span class=w> </span>/app
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=k>RUN</span><span class=w> </span>pip<span class=w> </span>install<span class=w> </span>-r<span class=w> </span>requirements.txt
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=k>CMD</span><span class=w> </span><span class=p>[</span><span class=s2>&quot;python&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;app.py&quot;</span><span class=p>]</span>
</span></code></pre></div> <p>У цьому Dockerfile використовуються команди для вказівки базового образу Python, установки робочого каталогу, копіювання файлів програми, встановлення залежностей та завдання за промовчанням для запуску програми.</p> <h4 id=_3>Кешування в образах<a class=headerlink href=#_3 title="Permanent link">⚑</a></h4> <p>Образ Docker складається зі шарів (layers), кожен з яких представляє собою окремий набір змін у файловій системі. Коли Docker збирає образ, кожний шар кешується окремо. Якщо певний шар вже був побудований та не зазнав змін у Dockerfile, Docker використовує його з кешу, замість того, щоб будувати його знову. Це забезпечує ефективність та прискорює процес збірки образів.</p> <p>Docker використовує унікальні ідентифікатори (hashes) для кожного шару образу, засновані на вмісті цього шару. Ці ідентифікатори використовуються для порівняння і визначення, чи є шар в кеші. Якщо ідентифікатори шарів у Dockerfile змінилися, Docker перебудовує лише ті шари, які мають нові зміни, зберігаючи старі шари з кешу.</p> <div class="language-Dockerfile highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=c># Example Dockerfile where the layer with dependencies installation is cached</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=k>FROM</span><span class=w> </span><span class=s>python:3.8-slim</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=c># Copy files into the working directory</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=k>COPY</span><span class=w> </span>.<span class=w> </span>/app
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=c># Install dependencies, this layer will be cached if requirements.txt remains unchanged</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=k>RUN</span><span class=w> </span>pip<span class=w> </span>install<span class=w> </span>--no-cache-dir<span class=w> </span>-r<span class=w> </span>/app/requirements.txt
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=c># Command to run the application</span>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a><span class=k>CMD</span><span class=w> </span><span class=p>[</span><span class=s2>&quot;python&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;/app/app.py&quot;</span><span class=p>]</span>
</span></code></pre></div> <p>У цьому прикладі <code>pip install</code> кешується, якщо <code>requirements.txt</code> залишається незмінним, забезпечуючи швидку збірку образу в майбутньому. Це особливо корисно при розробці, коли ви часто змінюєте код, але залежності залишаються сталими.</p> <h4 id=docker-container>Docker Container (контейнер)<a class=headerlink href=#docker-container title="Permanent link">⚑</a></h4> <p><strong>Контейнер</strong> - це виконуваний екземпляр Docker образу. Його можна створювати, запускати, зупиняти та видаляти. Також можна приєднувати до контейнера сховище, об'єднувати контейнери однією чи кількома мережами та взаємодіяти з контейнерами, використовуючи Docker API або CLI. Контейнер являє собою ізольоване оточення, в якому виконується програма разом з усіма його залежностями, бібліотеками та конфігураціями, використовуючи ресурси операційної системи.</p> <p>Для перегляду списку запущених контейнерів можна використовувати команду <code>docker ps</code>.</p> <p>Cтани контейнера Docker</p> <ul> <li>Created – контейнер створений, але не активний.</li> <li>Restarting – контейнер у процесі перезапуску.</li> <li>Running - контейнер працює.</li> <li>Paused - контейнер призупинено.</li> <li>Exited – контейнер закінчив свою роботу.</li> <li>Dead – контейнер, який сервіс спробував зупинити, але не зміг.</li> </ul> <h4 id=docker-volume>Docker Volume (том)<a class=headerlink href=#docker-volume title="Permanent link">⚑</a></h4> <p><strong>Docker Volume</strong> - це механізм у Docker, що дозволяє зберігати та управляти даними поза контейнером (на жорсткому диску сервера, а не всередині контейнера). Він надає зручний спосіб зберігання та обміну даними між контейнерами, а також зберігання даних після видалення контейнера. volumes завжди використовуються при запуску баз даних у контейнері.</p> <p>Коли контейнер знищується, то знищуються усі дані, які були всередині. Docker Volume натомість відключає прив'язку даних до життєвого циклу контейнера, дозволяючи отримати доступ до даних контейнера у будь-який момент. Таким чином, записи, зроблені в контейнерах, залишаються доступними після знищення контейнера, що їх містив, і можуть бути повторно використані в інших контейнерах.</p> <p>Docker Volumes працюють так - на сервері створюється каталог, який потім приєднується до одного або декількох контейнерів. При цьому каталог є незалежним, оскільки не включається до структури шарів образу Docker. Це дозволяє обійти обмеження read only для створюваних контейнерів з таким каталогом всередині.</p> <p>Створення volume у Docker виконується за допомогою команди <code>docker volume create &lt;volume_name&gt;</code>, після чого volume можна використовувати для монтування у контейнери. Монтування volume у контейнер здійснюється під час запуску контейнера з використанням опції <code>-v</code> або <code>--mount</code>. Наприклад, команда <code>docker run -v my-volume:/path/to/mount my-image</code> монтує volume з ім'ям my-volume у контейнері за вказаним шляхом.</p> <h4 id=docker-network>Docker Network (мережа)<a class=headerlink href=#docker-network title="Permanent link">⚑</a></h4> <p><strong>Мережа контейнера в Docker</strong> - це віртуальна мережа, яка забезпечує зв'язок між контейнерами та зовнішніми ресурсами. Вона дозволяє контейнерам спілкуватися та обмінюватися даними, а також надає можливість наділити контейнери окремими мережевими ресурсами.</p> <h4 id=docker_1>Які типи мереж існують в Docker?<a class=headerlink href=#docker_1 title="Permanent link">⚑</a></h4> <p>У Docker існують такі типи мереж</p> <ul> <li>"bridge" (внутрішня мережа)</li> <li>"host" (мережа хоста),</li> <li>"overlay" (накладна мережа) Вони дозволяють контролювати спосіб зв'язку між контейнерами та гнучко налаштовувати мережеві параметри.</li> </ul> <h4 id=dockerfile>Dockerfile<a class=headerlink href=#dockerfile title="Permanent link">⚑</a></h4> <p><strong>Dockerfile</strong> - це текстовий файл, який містить набір інструкцій для автоматизованого створення Docker образу. Цей файл містить інструкції про те, як конфігурувати базовий образ, додавати потрібні залежності, копіювати файли та налаштовувати середовище для додатка.</p> <p>Кожна інструкція в Dockerfile додає новий шар у кінцевий образ, що дозволяє точно визначити, які кроки та компоненти необхідні для створення контейнера. Це забезпечує відтворюваність та консистентність оточення, в якому виконуватиметься додаток.</p> <p>Основні інструкції в Dockerfile включають <code>FROM</code>, <code>COPY</code>, <code>RUN</code>, <code>CMD</code>, <code>ENTRYPOINT</code> та <code>EXPOSE</code>. Інструкція <code>FROM</code> задає базовий образ, на основі якого будуватиметься новий образ. <code>COPY</code> копіює файли та каталоги з локальної машини в образ. <code>RUN</code> виконує команди в процесі збирання образу, такі як встановлення залежностей. <code>CMD</code> та <code>ENTRYPOINT</code> задають команди, які будуть виконані під час запуску контейнера. <code>EXPOSE</code> вказує, які порти використовуватимуться контейнером.</p> <div class="language-Dockerfile highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=k>FROM</span><span class=w> </span><span class=s>python:3.8-slim</span><span class=w>  </span><span class=c># Use the official Python base image with version 3.8</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=k>WORKDIR</span><span class=w> </span><span class=s>/app  # Set the working directory in the container</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=k>COPY</span><span class=w> </span>.<span class=w> </span>/app<span class=w>  </span>#<span class=w> </span>Copy<span class=w> </span>files<span class=w> </span>from<span class=w> </span>the<span class=w> </span>current<span class=w> </span>directory<span class=w> </span>to<span class=w> </span>the<span class=w> </span>container
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=k>RUN</span><span class=w> </span>pip<span class=w> </span>install<span class=w> </span>--no-cache-dir<span class=w> </span>-r<span class=w> </span>requirements.txt<span class=w>  </span>#<span class=w> </span>Install<span class=w> </span>necessary<span class=w> </span>packages<span class=w> </span>via<span class=w> </span>pip
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=k>CMD</span><span class=w> </span><span class=p>[</span><span class=s2>&quot;python&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;app.py&quot;</span><span class=p>]</span><span class=w>  </span>#<span class=w> </span>Run<span class=w> </span>the<span class=w> </span>application<span class=w> </span>upon<span class=w> </span>container<span class=w> </span>start
</span></code></pre></div> <h4 id=entrypoint-cmd>Чим відрізняється <code>ENTRYPOINT</code> від <code>CMD</code>?<a class=headerlink href=#entrypoint-cmd title="Permanent link">⚑</a></h4> <p><code>CMD</code> та <code>ENTRYPOINT</code> використовуються для визначення команд, які повинні виконуватися при запуску контейнера.</p> <p><code>ENTRYPOINT</code> визначає основну команду, яка буде виконуватися завжди, і дозволяє передавати додаткові аргументи. Якщо вказаний <code>ENTRYPOINT</code>, аргументи, передані при запуску контейнера, додаються як аргументи до цієї команди. Не замінюється - якщо контейнер запускається з додатковими аргументами, вони додаються до <code>ENTRYPOINT</code> замість його заміни.</p> <p><code>CMD</code> задає команду за замовчуванням, яка може бути замінена аргументами, вказаними під час запуску контейнера. Якщо контейнер запускається з додатковими аргументами, вони замінюють <code>CMD</code>.</p> <p>Тобто, <code>ENTRYPOINT</code> вказує на основну команду, яка має бути завжди виконана, тоді як <code>CMD</code> вказує на аргументи, які можуть бути змінені при запуску контейнера. Якщо <code>ENTRYPOINT</code> не вказано, <code>CMD</code> може вказати основну команду для виконання контейнера за замовчуванням. Якщо контейнер запускається з іншими аргументами, <code>CMD</code> буде перевизначена.</p> <p>Обидві директиви можуть використовуватися разом для гнучкої конфігурації поведінки контейнера.</p> <h4 id=multi-stage-building>Multi Stage Building<a class=headerlink href=#multi-stage-building title="Permanent link">⚑</a></h4> <p><strong>Multi Stage Building</strong> - це техніка у Docker, яка дозволяє створювати оптимізовані та менш розміром образи за допомогою кількох стадій збірки. </p> <p>Замість одного Dockerfile, який містить всі кроки збірки, створюється кілька стадій. Кожна стадія може використовувати окремий базовий образ та виконувати певні дії, наприклад, встановлення залежностей, компіляцію коду або копіювання файлів. Після завершення роботи кожної стадії вибирають лише необхідні файли або бінарні дані та використовують їх у наступній стадії. Це дозволяє уникнути занадто великого образу, оскільки лише необхідні компоненти переходять до наступних етапів збірки.</p> <div class="language-Dockerfile highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=c># First stage: Compiling code using a compiler</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=k>FROM</span><span class=w> </span><span class=s>compiler-base-image</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=s>compiler</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=k>WORKDIR</span><span class=w> </span><span class=s>/app</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=k>COPY</span><span class=w> </span>source-code<span class=w> </span>/app
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=k>RUN</span><span class=w> </span>compile-command
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=c># Second stage: Creating an image with only the compiled output</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a><span class=k>FROM</span><span class=w> </span><span class=s>runtime-base-image</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a><span class=k>WORKDIR</span><span class=w> </span><span class=s>/app</span>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a><span class=k>COPY</span><span class=w> </span>--from<span class=o>=</span>compiler<span class=w> </span>/app/compiled-binary<span class=w> </span>/app/
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a><span class=k>CMD</span><span class=w> </span><span class=p>[</span><span class=s2>&quot;./compiled-binary&quot;</span><span class=p>]</span>
</span></code></pre></div> <p>У цьому прикладі перша стадія використовує <code>compiler-base-image</code> для компіляції вихідного коду та створює компільований бінарний файл. Друга стадія використовує <code>runtime-base-image</code> та копіює лише необхідний бінарний файл з першої стадії для створення кінцевого образу. Це зменшує розмір кінцевого образу.</p> <h4 id=dockerignore>dockerignore<a class=headerlink href=#dockerignore title="Permanent link">⚑</a></h4> <p><code>.dockerignore</code> - це текстовий файл, який вказує Docker, які файли і директорії необхідно ігнорувати під час створення образу. Це дозволяє зменшити обсяг контексту, який відправляється до Docker демона під час збірки образу, тим самим прискорюючи процес збірки та зменшуючи розмір образу.</p> <p><code>.dockerignore</code> подібний до <code>.gitignore</code> в системі контролю версій Git і визначає, які файли та директорії повинні бути виключені з контексту збірки образу.</p> <p>Приклад <code>dockerignore</code> файлу</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a>*.tmp  # Ignore temporary files
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>config.ini  # Ignore configuration files
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>build/  # Ignore directories with build artifacts
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>logs/*  # Ignore all files in the logs directory
</span></code></pre></div> <h4 id=docker-daemon>Docker Daemon<a class=headerlink href=#docker-daemon title="Permanent link">⚑</a></h4> <p><strong>Docker-демон</strong> (dockerd) - це фоновий процес в операційній системі, який обробляє запити Docker API і керує об'єктами Docker: образами, контейнерами, мережами та томами.</p> <h4 id=docker-client>Docker Client<a class=headerlink href=#docker-client title="Permanent link">⚑</a></h4> <p><strong>Docker-клієнт</strong> - це інструмент командного рядка (Comand Line Interface — CLI), через який користувач взаємодіє з демоном.</p> <p>Коли використовуєтться команда <code>docker run</code>, то Docker-клієнт відправляє команду dockerd. Аналогічна історія із іншими командами <code>docker &lt;команда&gt;</code>.</p> <h4 id=docker-hub>Docker Hub<a class=headerlink href=#docker-hub title="Permanent link">⚑</a></h4> <p><strong>Docker Hub</strong> - це відкритий Docker реєстр, тобто сховище всіх доступних Docker-образів. Дозволяє користувачам завантажувати (push) та скачувати (pull) образи. Воно необхідне для організації, розподілу та версіонування Docker-образів у різних середовищах розробки.</p> <p>При необхідності можна розгортати свої приватні Docker реєстри, розміщувати власні реєстри Docker і використовувати їх для витягування образів.</p> <h4 id=docker_2>Основні команди для роботи з Docker<a class=headerlink href=#docker_2 title="Permanent link">⚑</a></h4> <p>Створення та Робота з Контейнерами</p> <ul> <li><code>docker run &lt;ім'я_образу&gt;</code>: Створює новий контейнер на основі вказаного образу та запускає його.</li> <li><code>docker start &lt;ім'я_контейнера&gt;</code>: Запускає зупинений контейнер.</li> <li><code>docker stop &lt;ім'я_контейнера&gt;</code>: Зупиняє працюючий контейнер.</li> <li><code>docker restart &lt;ім'я_контейнера&gt;</code>: Перезапускає контейнер.</li> <li><code>docker rm &lt;ім'я_контейнера&gt;</code>: Видаляє контейнер.</li> </ul> <p>Робота з Образами</p> <ul> <li><code>docker build -t &lt;ім'я_образу&gt; .</code>: Збирає Docker образ із поточної директорії та присвоює йому ім'я.</li> <li><code>docker pull &lt;ім'я_образу&gt;</code>: Завантажує Docker образ із реєстру.</li> <li><code>docker push &lt;ім'я_образу&gt;</code>: Відсилає Docker образ до реєстру для зберігання та подібного використання іншими користувачами.</li> <li><code>docker rmi &lt;ім'я_образу&gt;</code>: Видаляє Docker образ.</li> </ul> <p>Системні Команди</p> <ul> <li><code>docker ps</code>: Показує список запущених контейнерів.</li> <li><code>docker images</code>: Показує список доступних образів.</li> <li><code>docker volume ls</code>: Показує список томів (вузлів даних).</li> <li><code>docker network ls</code>: Показує список мереж, створених Docker.</li> <li><code>docker info</code>: Показує інформацію про систему Docker.</li> </ul> <h4 id=docker-compose>docker-compose<a class=headerlink href=#docker-compose title="Permanent link">⚑</a></h4> <p><strong>Docker Compose</strong> - це інструмент визначення та запуску багатоконтейнерних додатків з використанням Docker. Він дозволяє визначити конфігурацію програми у YAML-форматі, у файлі <code>docker-compose.yml</code>, включаючи контейнери, мережі, об'єкти образів та інші ресурси, та запустити всі контейнери, необхідні для роботи програми, однією командою. Це спрощує розгортання та керування складними додатками, що складаються з декількох компонентів.</p> <p>Docker Compose використовується для розгортання, наприклад, веб-сервера, бази даних та інших програм. Він дозволяє визначити конфігурацію кожного сервісу окремо, включаючи образ, порти, змінні оточення та інші параметри та зв'язати їх між собою, замість запуску та керування кожним контейнером окремо.</p> <p>Для використання Docker Compose необхідно визначити конфігурацію програми у файлі <code>docker-compose.yml</code>, який містить опис кожного сервісу та його залежностей. Потім можна використовувати команду <code>docker-compose up</code> для запуску всіх контейнерів, необхідних для роботи програми.</p> <p>Приклад <code>docker-compose.yml</code></p> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s>&#39;3&#39;</span><span class=w>  </span><span class=c1># Docker Compose version</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=nt>services</span><span class=p>:</span>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=w>  </span><span class=nt>web</span><span class=p>:</span><span class=w>  </span><span class=c1># Service name for the web application</span>
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">flask-app:latest</span><span class=w>  </span><span class=c1># Using a custom Docker image for the Flask application</span>
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a><span class=w>    </span><span class=nt>ports</span><span class=p>:</span>
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;5000:5000&quot;</span><span class=w>  </span><span class=c1># Mapping port 5000 from the container to the host</span>
</span><span id=__span-5-8><a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a><span class=w>    </span><span class=nt>depends_on</span><span class=p>:</span>
</span><span id=__span-5-9><a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">db</span><span class=w>  </span><span class=c1># Indicating that this service depends on the &quot;db&quot; service</span>
</span><span id=__span-5-10><a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a>
</span><span id=__span-5-11><a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a><span class=w>  </span><span class=nt>db</span><span class=p>:</span><span class=w>  </span><span class=c1># Service name for the PostgreSQL database</span>
</span><span id=__span-5-12><a id=__codelineno-5-12 name=__codelineno-5-12 href=#__codelineno-5-12></a><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">postgres:latest</span><span class=w>  </span><span class=c1># Using the official Docker image for PostgreSQL</span>
</span><span id=__span-5-13><a id=__codelineno-5-13 name=__codelineno-5-13 href=#__codelineno-5-13></a><span class=w>    </span><span class=nt>environment</span><span class=p>:</span>
</span><span id=__span-5-14><a id=__codelineno-5-14 name=__codelineno-5-14 href=#__codelineno-5-14></a><span class=w>      </span><span class=nt>POSTGRES_PASSWORD</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">examplepassword</span><span class=w>  </span><span class=c1># Password for accessing the database</span>
</span><span id=__span-5-15><a id=__codelineno-5-15 name=__codelineno-5-15 href=#__codelineno-5-15></a><span class=w>      </span><span class=nt>POSTGRES_DB</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">exampledb</span><span class=w>  </span><span class=c1># Database name</span>
</span></code></pre></div> <h4 id=docker-compose_1>Основні команди для роботи з docker-compose<a class=headerlink href=#docker-compose_1 title="Permanent link">⚑</a></h4> <ul> <li><code>docker-compose up</code> - Запускає контейнери згідно з файлом <code>docker-compose.yml</code>.</li> <li><code>docker-compose down</code> - Зупиняє та видаляє всі контейнери, мережі та томи, створені <code>docker-compose up</code>.</li> <li><code>docker-compose ps</code> - Показує статус контейнерів, вказаних у <code>docker-compose.yml</code>.</li> <li><code>docker-compose build</code> - Будує або перебудовує сервіси з файлу <code>docker-compose.yml</code>.</li> <li><code>docker-compose logs</code> - Виводить логи сервісів, вказаних у <code>docker-compose.yml</code>.</li> <li><code>docker-compose exec &lt;service_name&gt; &lt;command&gt;</code> - Виконує команду в сервісі, вказаному у <code>docker-compose.yml</code>.</li> <li><code>docker-compose restart &lt;service_name&gt;</code> - Перезапускає конкретний сервіс, вказаний у <code>docker-compose.yml</code>.</li> <li><code>docker-compose pause</code> - Призупиняє виконання команд для всіх сервісів у <code>docker-compose.yml</code>.</li> <li><code>docker-compose unpause</code> - Відновлює виконання команд для всіх призупинених сервісів у <code>docker-compose.yml</code>.</li> <li><code>docker-compose config</code> - Перевіряє конфігураційний файл <code>docker-compose.yml</code> на коректність та виводить його зміст.</li> </ul> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="December 8, 2024 11:17:21 UTC"><span class=timeago datetime=2024-12-08T11:17:21+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="December 8, 2024 11:17:21 UTC">2024-12-08</span> </span> </aside> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../mq/ class="md-footer__link md-footer__link--prev" aria-label="Previous: MQ"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> MQ </div> </div> </a> <a href=../kubernates/ class="md-footer__link md-footer__link--next" aria-label="Next: Kubernates"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Kubernates </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/tavor118 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.footer", "navigation.instant", "navigation.top", "content.code.annotate", "content.code.copy", "search.suggest", "search.highlight"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../assets/javascripts/bundle.f55a23d4.min.js></script> <script src=../../js/timeago.min.js></script> <script src=../../js/timeago_mkdocs_material.js></script> </body> </html>